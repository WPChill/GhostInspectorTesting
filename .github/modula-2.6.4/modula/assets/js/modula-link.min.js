!function(c){function i(o){var i,t,n=this,e=!1;this.$el=c(o),this.images=this.$el.data("images"),this.config=this.$el.data("config"),0!=this.config&&this.config&&(t=jQuery.map(this.images,function(o){return{src:o.src,opts:{caption:o.opts.caption,thumb:o.opts.thumb,image_id:o.opts.image_id}}}),this.config.lightboxOpts.beforeLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_load",[n,this])},this.config.lightboxOpts.afterLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_load",[n,this])},this.config.lightboxOpts.beforeShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_show",[n,this])},this.config.lightboxOpts.afterShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_show",[n,this])},this.config.lightboxOpts.beforeClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_close",[n,this])},this.config.lightboxOpts.afterClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_close",[n,this])},this.config.lightboxOpts.onInit=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_init",[n,this])},this.config.lightboxOpts.onActivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_activate",[n,this])},this.config.lightboxOpts.onDeactivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_deactivate",[n,this])},this.$el.click(function(o){o.preventDefault(),void 0!==c.modulaFancybox&&c.modulaFancybox.open(t,n.config.lightboxOpts)}),c(document).trigger("modula_link_api_after_init",[n]),void 0!==n.config.lightboxOpts.copyCaptionMobile&&"1"==n.config.lightboxOpts.copyCaptionMobile&&jQuery(document).on("click","html body .modula-fancybox-container .modula-fancybox-caption__body",function(o){var t;e?(clearTimeout(i),e=!1,t=c("<input id='modula-temp-field'>"),c("body").append(t),t.val(c(this).text()).select(),document.execCommand("copy"),t.remove()):(e=!0,i=setTimeout(function(){e=!1},300))}))}i.prototype.open=function(o){void 0!==c.modulaFancybox&&c.modulaFancybox.open(this.images,this.config.lightboxOpts,o)},jQuery(document).ready(function(o){var t=o(".modula-link");o.each(t,function(){new i(this)})})}(jQuery);